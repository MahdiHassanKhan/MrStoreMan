/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package mrstoreman;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author Mahdi
 */
public class OwnerRegistrationRequests extends javax.swing.JFrame {

    /**
     * Creates new form OwnerRegistrationRequests
     */
    public OwnerRegistrationRequests() {
        initComponents();
        this.setLocationRelativeTo(null);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jButtonBFORR = new javax.swing.JButton();
        jButtonApproveORR = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jLabelORRMin = new javax.swing.JLabel();
        jLabelORRClose = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        ORRDetails = new javax.swing.JTable();
        jButtonFetchinORR = new javax.swing.JButton();
        jLabel9 = new javax.swing.JLabel();
        ORRID = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        ORRName = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        ORRContact = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        ORREmail = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        ORRPassword = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        ORRLocation = new javax.swing.JTextField();
        jButtonDeleteORR = new javax.swing.JButton();
        jButtonSearchORR = new javax.swing.JButton();
        jButtonClear = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setUndecorated(true);

        jPanel1.setBackground(new java.awt.Color(17, 32, 65));

        jButtonBFORR.setBackground(new java.awt.Color(243, 67, 73));
        jButtonBFORR.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonBFORR.setForeground(new java.awt.Color(240, 240, 240));
        jButtonBFORR.setText("<-");
        jButtonBFORR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonBFORR.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonBFORRMouseClicked(evt);
            }
        });
        jButtonBFORR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonBFORRActionPerformed(evt);
            }
        });

        jButtonApproveORR.setBackground(new java.awt.Color(243, 67, 73));
        jButtonApproveORR.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonApproveORR.setForeground(new java.awt.Color(240, 240, 240));
        jButtonApproveORR.setText("Approve");
        jButtonApproveORR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonApproveORR.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonApproveORRMouseClicked(evt);
            }
        });
        jButtonApproveORR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonApproveORRActionPerformed(evt);
            }
        });

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(240, 240, 240));
        jLabel1.setText("Owner Registration Requests");

        jLabelORRMin.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabelORRMin.setForeground(new java.awt.Color(240, 240, 240));
        jLabelORRMin.setText("-");
        jLabelORRMin.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jLabelORRMin.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelORRMinMouseClicked(evt);
            }
        });

        jLabelORRClose.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabelORRClose.setForeground(new java.awt.Color(240, 240, 240));
        jLabelORRClose.setText("X");
        jLabelORRClose.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jLabelORRClose.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jLabelORRCloseMouseClicked(evt);
            }
        });

        ORRDetails.setBackground(new java.awt.Color(243, 67, 73));
        ORRDetails.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        ORRDetails.setForeground(new java.awt.Color(240, 240, 240));
        ORRDetails.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "ID", "Name", "Contact", "Email", "Password", "Location"
            }
        ));
        ORRDetails.setSelectionForeground(new java.awt.Color(240, 240, 240));
        ORRDetails.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                ORRDetailsMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(ORRDetails);

        jButtonFetchinORR.setBackground(new java.awt.Color(243, 67, 73));
        jButtonFetchinORR.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonFetchinORR.setForeground(new java.awt.Color(240, 240, 240));
        jButtonFetchinORR.setText("Pending Requests");
        jButtonFetchinORR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonFetchinORR.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonFetchinORRMouseClicked(evt);
            }
        });
        jButtonFetchinORR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonFetchinORRActionPerformed(evt);
            }
        });

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(240, 240, 240));
        jLabel9.setText("ID:");

        ORRID.setBackground(new java.awt.Color(234, 67, 73));
        ORRID.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORRID.setForeground(new java.awt.Color(240, 240, 240));
        ORRID.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ORRIDActionPerformed(evt);
            }
        });

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(240, 240, 240));
        jLabel2.setText("Name:");

        ORRName.setBackground(new java.awt.Color(234, 67, 73));
        ORRName.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORRName.setForeground(new java.awt.Color(240, 240, 240));
        ORRName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ORRNameActionPerformed(evt);
            }
        });

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(240, 240, 240));
        jLabel3.setText("Contact:");

        ORRContact.setBackground(new java.awt.Color(234, 67, 73));
        ORRContact.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORRContact.setForeground(new java.awt.Color(240, 240, 240));
        ORRContact.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ORRContactActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(240, 240, 240));
        jLabel4.setText("Email:");

        ORREmail.setBackground(new java.awt.Color(234, 67, 73));
        ORREmail.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORREmail.setForeground(new java.awt.Color(240, 240, 240));
        ORREmail.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ORREmailActionPerformed(evt);
            }
        });

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(240, 240, 240));
        jLabel7.setText("Password:");

        ORRPassword.setBackground(new java.awt.Color(234, 67, 73));
        ORRPassword.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORRPassword.setForeground(new java.awt.Color(240, 240, 240));

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(240, 240, 240));
        jLabel8.setText("Location:");

        ORRLocation.setBackground(new java.awt.Color(234, 67, 73));
        ORRLocation.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        ORRLocation.setForeground(new java.awt.Color(240, 240, 240));
        ORRLocation.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ORRLocationActionPerformed(evt);
            }
        });

        jButtonDeleteORR.setBackground(new java.awt.Color(243, 67, 73));
        jButtonDeleteORR.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonDeleteORR.setForeground(new java.awt.Color(240, 240, 240));
        jButtonDeleteORR.setText("Delete");
        jButtonDeleteORR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonDeleteORR.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonDeleteORRMouseClicked(evt);
            }
        });
        jButtonDeleteORR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDeleteORRActionPerformed(evt);
            }
        });

        jButtonSearchORR.setBackground(new java.awt.Color(243, 67, 73));
        jButtonSearchORR.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonSearchORR.setForeground(new java.awt.Color(240, 240, 240));
        jButtonSearchORR.setText("Search");
        jButtonSearchORR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButtonSearchORR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchORRActionPerformed(evt);
            }
        });

        jButtonClear.setBackground(new java.awt.Color(234, 67, 73));
        jButtonClear.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButtonClear.setForeground(new java.awt.Color(240, 240, 240));
        jButtonClear.setText("Clear");
        jButtonClear.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jButtonClearMouseClicked(evt);
            }
        });
        jButtonClear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonClearActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jButtonBFORR)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabelORRMin)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabelORRClose)
                        .addGap(20, 20, 20))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                        .addGap(87, 87, 87)
                                        .addComponent(ORRID, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel9, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel2)
                                        .addGap(42, 42, 42)
                                        .addComponent(ORRName, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(0, 4, Short.MAX_VALUE))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel3)
                                    .addComponent(jLabel4)
                                    .addComponent(jLabel7)
                                    .addComponent(jLabel8))
                                .addGap(15, 15, 15)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(ORRLocation)
                                    .addComponent(ORRPassword)
                                    .addComponent(ORREmail)
                                    .addComponent(ORRContact)))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addComponent(jButtonClear)
                                .addGap(18, 18, 18)
                                .addComponent(jButtonSearchORR)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jButtonDeleteORR)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 27, Short.MAX_VALUE)
                                .addComponent(jButtonApproveORR)
                                .addGap(18, 18, 18)
                                .addComponent(jButtonFetchinORR))
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                        .addContainerGap())))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelORRMin)
                            .addComponent(jLabelORRClose))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addContainerGap(22, Short.MAX_VALUE)
                        .addComponent(jButtonBFORR)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(30, 30, 30)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel9)
                            .addComponent(ORRID, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(31, 31, 31)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ORRName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel2))
                        .addGap(36, 36, 36)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ORRContact, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel3))
                        .addGap(41, 41, 41)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ORREmail, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4))
                        .addGap(33, 33, 33)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ORRPassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel7))
                        .addGap(33, 33, 33)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(ORRLocation, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel8))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 20, Short.MAX_VALUE)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jButtonSearchORR)
                            .addComponent(jButtonClear)))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonApproveORR)
                    .addComponent(jButtonFetchinORR)
                    .addComponent(jButtonDeleteORR))
                .addGap(32, 32, 32))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonBFORRMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonBFORRMouseClicked
        // TODO add your handling code here:
        Requests requests = new Requests();
        requests.setVisible(true);
        requests.pack();
        requests.setLocationRelativeTo(null);
        requests.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.dispose();
    }//GEN-LAST:event_jButtonBFORRMouseClicked

    private void jButtonBFORRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonBFORRActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonBFORRActionPerformed

    private void jButtonApproveORRMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonApproveORRMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonApproveORRMouseClicked

    private void jButtonApproveORRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonApproveORRActionPerformed
        int row = ORRDetails.getSelectedRow();
        String cell = ORRDetails.getModel().getValueAt(row,0).toString();
        String name = ORRDetails.getModel().getValueAt(row,1).toString();
        String contact = ORRDetails.getModel().getValueAt(row,2).toString();
        String email = ORRDetails.getModel().getValueAt(row,3).toString();
        String password = ORRDetails.getModel().getValueAt(row,4).toString();
        String Location = ORRDetails.getModel().getValueAt(row,5).toString();
        System.out.println("name = "+name);
        System.out.println("contact = "+contact);
        System.out.println("email = "+email);
        System.out.println("password = "+password);
        System.out.println("Location = "+Location);
        //String sql = "Delete from Employee where EmployeeId = " + cell;
       try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            Connection con = DriverManager.getConnection(
                "jdbc:sqlserver://localhost:1433;databaseName=MrStoreMan;selectMethod=cursor", "sa", "123456");
            
            String sql2 = "Insert into Owner(OwnerName,OwnerContact,OwnerEmail,OwnerPassword,OwnerLocation) values(?,?,?,?,?)";
            PreparedStatement pst2 = con.prepareStatement(sql2);
            pst2.setString(1,name);
            pst2.setString(2,contact);
            pst2.setString(3,email);
            pst2.setString(4,password);
            pst2.setString(5,Location);
            pst2.execute();
            
            String sql = "Delete from OwnerRegistrationRequests where RequestOwnerId = " + cell;
            PreparedStatement pst = con.prepareStatement(sql);
            pst.execute();
            
            JOptionPane.showMessageDialog(null,"Selected request approved as an owner.");
            ORRDetails.setModel(new DefaultTableModel(null, new String[]{"Id","Name","Contact","Email","Password","Location"}));
            //connectionLogin.close();

        }
        catch (Exception e) {
            //e.printStackTrace();
            //System.out.println(e.getMessage());
            //JOptionPane.showMessageDialog(null,e);
            //JOptionPane.showMessageDialog(null,e);
            JOptionPane.showMessageDialog(null,"An owner already exists with the same email or contact. Selected request not approved.");
        }
    }//GEN-LAST:event_jButtonApproveORRActionPerformed

    private void jLabelORRMinMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelORRMinMouseClicked

        this.setState(JFrame.ICONIFIED);

    }//GEN-LAST:event_jLabelORRMinMouseClicked

    private void jLabelORRCloseMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jLabelORRCloseMouseClicked

        System.exit(0);

    }//GEN-LAST:event_jLabelORRCloseMouseClicked

    private void jButtonFetchinORRMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonFetchinORRMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonFetchinORRMouseClicked

    private void jButtonFetchinORRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonFetchinORRActionPerformed
        try {
            ORRDetails.setModel(new DefaultTableModel(null, new String[]{"Id","Name","Contact","Email","Password","Location"}));
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            Connection connection = DriverManager.getConnection(
                    "jdbc:sqlserver://localhost:1433;databaseName=MrStoreMan;selectMethod=cursor", "sa", "123456");
              Statement st1 = connection.createStatement();
              String sql1 = "select * from OwnerRegistrationRequests";
              ResultSet rs1 = st1.executeQuery(sql1);
              while(rs1.next()){
                  String RequestOwnerId = String.valueOf(rs1.getInt("RequestOwnerId"));
                  String OwnerName = rs1.getString("OwnerName");
                  String OwnerContact = rs1.getString("OwnerContact");
                  String OwnerEmail = rs1.getString("OwnerEmail");
                  String OwnerPassword = rs1.getString("OwnerPassword");
                  String OwnerLocation = rs1.getString("OwnerLocation");
                  
                  String OwnerData[] = {RequestOwnerId,OwnerName,OwnerContact,OwnerEmail,OwnerPassword,OwnerLocation};
                  DefaultTableModel OTM = (DefaultTableModel)ORRDetails.getModel();
                  OTM.addRow(OwnerData);
              }
              
            connection.close();
            
        } 
        catch (Exception e) {
            //e.printStackTrace();
            System.out.println(e.getMessage());
        }
    }//GEN-LAST:event_jButtonFetchinORRActionPerformed

    private void ORRDetailsMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_ORRDetailsMouseClicked
        int row = ORRDetails.getSelectedRow();
        String selection = ORRDetails.getModel().getValueAt(row,0).toString();
        //String sql = "select * from Employee where EmployeeId = " + selection;
        try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            Connection connection3 = DriverManager.getConnection(
                "jdbc:sqlserver://localhost:1433;databaseName=MrStoreMan;selectMethod=cursor", "sa", "123456");
            Statement st3 = connection3.createStatement();
            String sql3 = "select * from OwnerRegistrationRequests where RequestOwnerId = " + selection;
            ResultSet rs3 = st3.executeQuery(sql3);
            if(rs3.next()){
                ORRID.setText(rs3.getString("RequestOwnerId"));
                ORRName.setText(rs3.getString("OwnerName"));
                ORRContact.setText(rs3.getString("OwnerContact"));
                ORREmail.setText(rs3.getString("OwnerEmail"));
                ORRPassword.setText(rs3.getString("OwnerPassword"));
                ORRLocation.setText(rs3.getString("OwnerLocation"));
            }

        }
        catch (Exception e) {
            //e.printStackTrace();
            //System.out.println(e.getMessage());
            JOptionPane.showMessageDialog(null,e);
        }
    }//GEN-LAST:event_ORRDetailsMouseClicked

    private void ORRIDActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ORRIDActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ORRIDActionPerformed

    private void ORRNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ORRNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ORRNameActionPerformed

    private void ORRContactActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ORRContactActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ORRContactActionPerformed

    private void ORREmailActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ORREmailActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ORREmailActionPerformed

    private void ORRLocationActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ORRLocationActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_ORRLocationActionPerformed

    private void jButtonDeleteORRMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonDeleteORRMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonDeleteORRMouseClicked

    private void jButtonDeleteORRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDeleteORRActionPerformed
        int row = ORRDetails.getSelectedRow();
        String cell = ORRDetails.getModel().getValueAt(row,0).toString();
        //String sql = "Delete from Employee where EmployeeId = " + cell;
       try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            Connection con = DriverManager.getConnection(
                "jdbc:sqlserver://localhost:1433;databaseName=MrStoreMan;selectMethod=cursor", "sa", "123456");
            
            String sql = "Delete from OwnerRegistrationRequests where RequestOwnerId = " + cell;
            PreparedStatement pst = con.prepareStatement(sql);
            pst.execute();
            JOptionPane.showMessageDialog(null,"Selected Owner request deleted successfully");
            ORRDetails.setModel(new DefaultTableModel(null, new String[]{"ID","Name","Contact","Email","Password","Location"}));
            //connectionLogin.close();

        }
        catch (Exception e) {
            //e.printStackTrace();
            //System.out.println(e.getMessage());
            //JOptionPane.showMessageDialog(null,e);
            JOptionPane.showMessageDialog(null,e);
        }
    }//GEN-LAST:event_jButtonDeleteORRActionPerformed

    private void jButtonSearchORRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchORRActionPerformed
        try {
            Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
            Connection connection = DriverManager.getConnection(
                "jdbc:sqlserver://localhost:1433;databaseName=MrStoreMan;selectMethod=cursor", "sa", "123456");
            ORRDetails.setModel(new DefaultTableModel(null, new String[]{"ID","Name","Contact","Email","Password","Location"}));
            
            int checkid=0,checkname=0,checkcontact=0,checkemail=0,checkpassword=0;
            String sql1 = "SELECT * FROM OwnerRegistrationRequests WHERE ";
            if(ORRID.getText().length()>0)
            {
                sql1 +="RequestOwnerId LIKE '%"+ORRID.getText()+"%'";
                checkid=1;
            }

            if(ORRName.getText().length()>0)
            {
                if(checkid==0)
                {
                    sql1 += "OwnerName LIKE '%"+ORRName.getText()+"%'";
                }
                else if(checkid==1)
                {
                    sql1 += "OR OwnerName LIKE '%"+ORRName.getText()+"%'";
                    //sql1 += "UNION SELECT * FROM Employee WHERE EmployeeName LIKE '%"+TECName.getText()+"%'";
                }
                checkname=1;
            }

            if(ORRContact.getText().length()>0)
            {
                if(checkid==0&&checkname==0)
                {
                    sql1 += "OwnerContact LIKE '%"+ORRContact.getText()+"%'";
                }
                else if(checkid==1||checkname==1)
                {
                    sql1 += "OR OwnerContact LIKE '%"+ORRContact.getText()+"%'";
                    //sql1 += "UNION SELECT * FROM Employee WHERE EmployeeContact LIKE '%"+TECContact.getText()+"%'";
                }
                checkcontact=1;
            }

            if(ORREmail.getText().length()>0)
            {
                if(checkid==0&&checkname==0&&checkcontact==0)
                {
                    sql1 += "OwnerEmail LIKE '%"+ORREmail.getText()+"%'";
                }
                if(checkid==1||checkname==1||checkcontact==1)
                {
                    sql1 += "OR OwnerEmail LIKE '%"+ORREmail.getText()+"%'";
                    //sql1 += "UNION SELECT * FROM Employee WHERE EmployeeEmail LIKE '%"+TECEmail.getText()+"%'";
                }
                checkemail=1;
            }

            if(ORRPassword.getText().length()>0)
            {
                if(checkid==0&&checkname==0&&checkcontact==0&&checkemail==0)
                {
                    sql1 += "OwnerPassword LIKE '%"+ORRPassword.getText()+"%'";
                }
                if(checkid==1||checkname==1||checkcontact==1||checkemail==1)
                {
                    sql1 += "OR OwnerPassword LIKE '%"+ORRPassword.getText()+"%'";
                    //sql1 += "UNION SELECT * FROM Employee WHERE EmployeeLocation LIKE '%"+TECLocation.getText()+"%'";
                }
                checkpassword=1;
            }
            
            if(ORRLocation.getText().length()>0)
            {
                if(checkid==0&&checkname==0&&checkcontact==0&&checkemail==0&&checkpassword==0)
                {
                    sql1 += "OwnerLocation LIKE '%"+ORRLocation.getText()+"%'";
                }
                if(checkid==1||checkname==1||checkcontact==1||checkemail==1||checkpassword==1)
                {
                    sql1 += "OR OwnerLocation LIKE '%"+ORRLocation.getText()+"%'";
                    //sql1 += "UNION SELECT * FROM Employee WHERE EmployeeLocation LIKE '%"+TECLocation.getText()+"%'";
                }
            }

            System.out.println("sql query is "+sql1);

            PreparedStatement pst = connection.prepareStatement(sql1);
            ResultSet rs1 = pst.executeQuery();

            while(rs1.next()){
                  String RequestOwnerId = String.valueOf(rs1.getInt("RequestOwnerId"));
                  String OwnerName = rs1.getString("OwnerName");
                  String OwnerContact = rs1.getString("OwnerContact");
                  String OwnerEmail = rs1.getString("OwnerEmail");
                  String OwnerPassword = rs1.getString("OwnerPassword");
                  String OwnerLocation = rs1.getString("OwnerLocation");
                  
                  String OwnerData[] = {RequestOwnerId,OwnerName,OwnerContact,OwnerEmail,OwnerPassword,OwnerLocation};
                  DefaultTableModel OTM = (DefaultTableModel)ORRDetails.getModel();
                  OTM.addRow(OwnerData);
              }

            //connection.close();

        }
        catch (Exception e) {
            //e.printStackTrace();
            System.out.println(e.getMessage());
        }
    }//GEN-LAST:event_jButtonSearchORRActionPerformed

    private void jButtonClearMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jButtonClearMouseClicked
        ORRID.setText("");
        ORRName.setText("");
        ORRContact.setText("");
        ORREmail.setText("");
        ORRPassword.setText("");
        ORRLocation.setText("");
    }//GEN-LAST:event_jButtonClearMouseClicked

    private void jButtonClearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonClearActionPerformed
        // TODO add your handling code here:

    }//GEN-LAST:event_jButtonClearActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(OwnerRegistrationRequests.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(OwnerRegistrationRequests.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(OwnerRegistrationRequests.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(OwnerRegistrationRequests.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new OwnerRegistrationRequests().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField ORRContact;
    private javax.swing.JTable ORRDetails;
    private javax.swing.JTextField ORREmail;
    private javax.swing.JTextField ORRID;
    private javax.swing.JTextField ORRLocation;
    private javax.swing.JTextField ORRName;
    private javax.swing.JTextField ORRPassword;
    private javax.swing.JButton jButtonApproveORR;
    private javax.swing.JButton jButtonBFORR;
    private javax.swing.JButton jButtonClear;
    private javax.swing.JButton jButtonDeleteORR;
    private javax.swing.JButton jButtonFetchinORR;
    private javax.swing.JButton jButtonSearchORR;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelORRClose;
    private javax.swing.JLabel jLabelORRMin;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JScrollPane jScrollPane1;
    // End of variables declaration//GEN-END:variables
}
